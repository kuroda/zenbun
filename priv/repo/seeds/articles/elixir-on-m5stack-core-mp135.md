---
title: Elixir ã‚’ M5Stack CoreMP135 ä¸Šã§å‹•ã‹ã™
published: true
type: tech
emoji: ğŸ«
topics: ["elixir", "m5stack"]
---

# æœ¬ç¨¿ã®å‰ææ¡ä»¶

æœ¬ç¨¿ã§ã¯å°å‹ Linux PC ã§ã‚ã‚‹ M5Stack CoreMP135 ä¸Šã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Elixir ã®å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †ã‚’è§£èª¬ã—ã¾ã™ã€‚

æœ¬ç¨¿ã®è¨˜è¿°ã¯ã€èª­è€…ãŒ Ubuntu 24.04 LTS ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ PC ã¨ M5Stack CoreMP135 ã‚’æ‰€æœ‰ã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚Windows PC ãŠã‚ˆã³ Mac ã§ã‚‚é¡ä¼¼ã®æ‰‹é †ã«ã‚ˆã‚Šä½œæ¥­ã‚’é€²ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ãŒã€miniSD ã‚«ãƒ¼ãƒ‰ã« Debian OS ã‚’ç„¼ãä»˜ã‘ã‚‹æ‰‹é †ã¨ PC ã‹ã‚‰ M5Stack CoreMP135 ã« SSH æ¥ç¶šã™ã‚‹æ‰‹é †ãŒè‹¥å¹²ç•°ãªã‚‹ç‚¹ã«ç•™æ„ã—ã¦ãã ã•ã„ã€‚

# M5Stack CoreMP135 ã¨ã¯

**M5Stack**ï¼ˆã‚¨ãƒ ãƒ•ã‚¡ã‚¤ãƒ–ã‚¹ã‚¿ãƒƒã‚¯ï¼‰ã¯ã€ä¸­å›½æ·±åœ³ã«æ‹ ç‚¹ã‚’æŒã¤ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã§ã™ã€‚åŒç¤¾ã‚’ä»£è¡¨ã™ã‚‹è£½å“ã¯ M5Stack ESP32 ã¨ã„ã†åå‰ã®å°å‹ã®ãƒã‚¤ã‚³ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ï¼ˆ2021 å¹´ç™ºå£²é–‹å§‹ï¼‰ã€‚ã“ã®è£½å“ã¯ã€54 mm Ã— 54 mm Ã— 17 mm ã¨ã„ã†å°ã•ãªç­ä½“ã«ã€2 ã‚¤ãƒ³ãƒã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã€ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã€Wi-Fiã€Bluttoothã€Type-C USB ã‚³ãƒã‚¯ã‚¿ã€Grove I2C ã‚³ãƒã‚¯ã‚¿ã€SD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ç­‰ã‚’æ­è¼‰ã—ã¦ã„ã¾ã™ã€‚

æœ¬ç¨¿ãŒæ‰±ã†ã®ã¯ã€2024 å¹´ã«ç™ºå£²ãŒé–‹å§‹ã•ã‚ŒãŸ **M5Stack CoreMP135** ã¨ã„ã†åŒç¤¾ã®åˆ¥ã®è£½å“ã§ã™ï¼ˆä»¥ä¸‹ã€ã€ŒCoreMP135ã€ã¨å‘¼ã³ã¾ã™ï¼‰ã€‚M5Stack ESP32 ã¨ã¯ç•°ãªã‚Šã€CoreMP135 ã§ã¯ Linux ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€ã¤ã§ã‚ã‚‹ Debian ãŒå‹•ãã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Elixir ã§æ›¸ã‹ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ CoreMP135 ä¸Šã§å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

CoreMP135 ã®ã‚µã‚¤ã‚ºã¯ã€54 mm Ã— 54 mm Ã— 34.5 mm ã§ã™ã€‚2 ã‚¤ãƒ³ãƒã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã€ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã€HDMI ã‚³ãƒã‚¯ã‚¿ã€Type-A USB ã‚³ãƒã‚¯ã‚¿ï¼ˆÃ—2ï¼‰ã€Type-C USB ã‚³ãƒã‚¯ã‚¿ã€CAN ãƒãƒ¼ãƒˆã€RS-485 ãƒãƒ¼ãƒˆã€Grove I2C ã‚³ãƒã‚¯ã‚¿ã€UART ã‚³ãƒã‚¯ã‚¿ã€M5BUS ã‚³ãƒã‚¯ã‚¿ã€ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚³ãƒã‚¯ã‚¿ã€microSD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ç­‰ã‚’æ­è¼‰ã—ã¦ã„ã¾ã™ã€‚M5Stack ESP32 ã‚ˆã‚Šã‚‚é«˜ã•ãŒã‚ã‚‹åˆ†ã€ãƒãƒ¼ãƒˆã¨ã‚³ãƒã‚¯ã‚¿ã®æ•°ãŒå¤šããªã£ã¦ã„ã¾ã™ã€‚å·¥å ´ã§ã‚ˆãè¦‹ã‚‹ DIN ãƒ¬ãƒ¼ãƒ«ã«æ®ä»˜å¯èƒ½ã§ã‚ã‚‹ç‚¹ã‚‚ç‰¹å¾´ã§ã™ã€‚RAM ã®ã‚µã‚¤ã‚ºã¯ 512 MBã§ã™ã€‚åˆ¥å£²ã‚Šã® 12V 5A é›»æºã‚¢ãƒ€ãƒ—ã‚¿ã¾ãŸã¯ USB ã‚±ãƒ¼ãƒ–ãƒ«ã§çµ¦é›»ã—ã¾ã™ã€‚

![M5Stack CoreMP135 (1)](/images/articles/elixir-on-m5stack-core-mp135/core-mp135-1.jpg =360x)

æ³¨æ„ã™ã¹ãã¯ã€CoreMP135 ãŒ Wi-Fi ã¨ Bluetooth æ¥ç¶šæ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ãªã„ã“ã¨ã§ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’å¾—ã‚‹ã«ã¯ LAN ã‚±ãƒ¼ãƒ–ãƒ«ã§ CoreMP135 ã®ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚³ãƒã‚¯ã‚¿ã¨ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ã‚‚ã† 1 ç‚¹æ³¨æ„ãŒã‚ã‚Šã¾ã™ã€‚ã‚¹ã‚¤ãƒƒãƒã‚µã‚¤ã‚¨ãƒ³ã‚¹ç¤¾ã® M5Stack CoreMP135 è²©å£²ãƒšãƒ¼ã‚¸ã«æ²è¼‰ã•ã‚Œã¦ã„ã‚‹ç”»åƒã«ã¯ã€ŒDISPLAY PORTã€ã®ãƒ†ã‚­ã‚¹ãƒˆãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€æ³¨æ„æ›¸ãã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€å¤–éƒ¨ãƒ¢ãƒ‹ã‚¿å‡ºåŠ›ç”¨ã®ã‚³ãƒã‚¯ã‚¿ã¯ HDMI å½¢çŠ¶ã®ã‚‚ã®ã§ã™ã€‚

# å…¥æ‰‹ã™ã¹ãã‚‚ã®ã®ãƒªã‚¹ãƒˆ

æœ¬ç¨¿ã«æ²¿ã£ã¦å®Ÿéš›ã« CoreMP135 ä¸Šã§ Elixir ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®è£½å“ãŒå¿…è¦ã§ã™ï¼ˆåˆè¨ˆ 17,810 å††ï¼‰ã€‚ãªãŠã€ä¾¡æ ¼ã¯2024å¹´9æœˆ17æ—¥æ™‚ç‚¹ã§ã®ã‚‚ã®ã§ã‚ã‚Šã€å˜ä½ã¯æ—¥æœ¬å††ã€æ¶ˆè²»ç¨è¾¼ã¿ã§ã™ã€‚CoreMP135 ä»¥å¤–ã®è£½å“ã«é–¢ã—ã¦ã¯ã€åŒç­‰ã®ã‚‚ã®ã§ä»£æ›¿ã§ãã¾ã™ã€‚

|å“å|URL|ä¾¡æ ¼|
|----|---|----------:|
|M5Stack CoreMP135|https://www.switch-science.com/products/9650|13,728|
|12V 5A é›»æºã‚¢ãƒ€ãƒ—ã‚¿ï¼ˆâ€»ï¼‰|https://www.amazon.co.jp/dp/B082TXXVY3|1,608|
|16GB microSD ã‚«ãƒ¼ãƒ‰|https://www.amazon.co.jp/dp/B088KJFWMD|550|
|microSD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ï¼ˆâ€»ï¼‰|https://www.amazon.co.jp/dp/B006T9B6R2|990|
|HDMI ã‚±ãƒ¼ãƒ–ãƒ«ï¼ˆâ€»ï¼‰|https://www.amazon.co.jp/dp/B095C96HH6|550|
|LAN ã‚±ãƒ¼ãƒ–ãƒ«|https://www.amazon.co.jp/dp/B00N2VILDM|384|

ãã®ä»–ã«ã€HDMI ã‚³ãƒã‚¯ã‚¿ã‚’æŒã¤ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¨è‹±èªé…åˆ—ã® USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚

## æ³¨è¨˜

* Type-A USB ã¾ãŸã¯ Type-C USB ã‚³ãƒã‚¯ã‚¿ã«æ¥ç¶šã§ãã‚‹é›»æºã‚¢ãƒ€ãƒ—ã‚¿ãŒã‚ã‚Œã°ã€12V 5A é›»æºã‚¢ãƒ€ãƒ—ã‚¿ã¯ä¸è¦ã§ã™ã€‚ã‚ã‚‹ã„ã¯ã€USB ã‚±ãƒ¼ãƒ–ãƒ«ã§ PC ã‹ã‚‰çµ¦é›»ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
* microSD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ã¯ã€Debian ã‚’ microSD ã‚«ãƒ¼ãƒ‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«å¿…è¦ã§ã™ã€‚ã‚ãªãŸã® PC ã§ microSD ã‚«ãƒ¼ãƒ‰ã‚’èª­ã¿æ›¸ãã§ãã‚‹ãªã‚‰ã€æ–°ãŸã«è³¼å…¥ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
* HDMI ã‚±ãƒ¼ãƒ–ãƒ«ã¯å¤–ä»˜ã‘ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¨ CoreMP135 ã‚’æ¥ç¶šã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã—ã¾ã™ãŒã€å¤–éƒ¨ã‹ã‚‰ CoreMP135 ã« SSH ã§æ¥ç¶šã§ãã‚‹ç’°å¢ƒãŒæ•´ã£ãŸå¾Œã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»–ã®ç”¨é€”ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ HDMI ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä¸€æ™‚çš„ã«å€Ÿç”¨ã—ã¦ã‚‚ã‚ˆã„ã§ã—ã‚‡ã†ã€‚
* USB ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¯ã€å¤–éƒ¨ã‹ã‚‰ CoreMP135 ã« SSH ã§æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ç’°å¢ƒãŒæ•´ã£ãŸå¾Œã¯å¿…é ˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

# Debian ã‚’ microSD ã‚«ãƒ¼ãƒ‰ã«ç„¼ãä»˜ã‘ã‚‹

ãƒ–ãƒ©ã‚¦ã‚¶ã§ https://docs.m5stack.com/en/guide/linux/coremp135/image ã‚’é–‹ãã€ã€Œ1. Download image fileã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ã‚ã‚‹è¡¨ã‹ã‚‰æœ€æ–°ç‰ˆã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `M5_CoreMP135_debian12_20240628.7z` ã®ã‚ˆã†ãªåå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã‚Œã‚’å±•é–‹ã™ã‚‹ã¨ `M5_CoreMP135_debian12_20240628.img` ã®ã‚ˆã†ãªåå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºç¾ã—ã¾ã™ã€‚

ã“ã‚Œã‚’ microSD ã‚«ãƒ¼ãƒ‰ã«ç„¼ãä»˜ã‘ã‚‹æ‰‹é †ã«ã¤ã„ã¦ã¯ã€https://docs.m5stack.com/en/guide/linux/coremp135/image ã®ã€Œ2. Burn imageã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

å¤§ã¾ã‹ãªæ‰‹é †ã¯æ¬¡ã®é€šã‚Šã§ã™:

1. microSD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ã‚’ PC ã«æ¥ç¶šã—ã€microSD ã‚«ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã™ã‚‹ã€‚
1. balenaEtcher ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆè©³ç´°ã¯å¾Œè¿°ï¼‰ã€‚
1. balenaEtcher ã‚’èµ·å‹•ã€‚
1. ã€ŒFlash from fileã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
1. å±•é–‹ã—ãŸ `.img` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã€‚
1. ã€ŒSelect targetã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚
1. microSD ã‚«ãƒ¼ãƒ‰ã‚’é¸æŠã™ã‚‹ã€‚
1. ã€ŒFlashã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚

Ubuntu ã« balenaEtcher ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã¯æ¬¡ã®é€šã‚Šã§ã™:

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ https://github.com/balena-io/etcher/releases/ ã‚’é–‹ãã€‚
1. ã€ŒLatestã€ã¨ã„ã†ãƒ©ãƒ™ãƒ«ã®ä»˜ã„ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ2024 å¹´ 9 æœˆ 19 æ—¥ç¾åœ¨ã€v1.19.21ï¼‰ã® `.deb` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã€‚
1. `sudo apt install balena-etcher_1.19.21_amd64.deb` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ãŸã ã—ã€`1.19.21` ã®éƒ¨åˆ†ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã¦ç½®ãæ›ãˆã‚‹ã€‚

# CoreMP135 ã‚’èµ·å‹•ã™ã‚‹

è³¼å…¥ã—ãŸ CoreMP135 ã® microSD ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ã«ã¯åˆã‚ã‹ã‚‰ microSD ã‚«ãƒ¼ãƒ‰ãŒå…¥ã£ã¦ã„ã¾ã™ã®ã§ã€ã“ã‚Œã‚’å–ã‚Šå‡ºã—ã¦ã€Debian ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ç„¼ã„ãŸ microSD ã‚«ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ã¦ãã ã•ã„ã€‚

ãã—ã¦ã€CoreMP135 ã® USB ã‚³ãƒã‚¯ã‚¿ã«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã€HDMI ã‚³ãƒã‚¯ã‚¿ã«ãƒ¢ãƒ‹ã‚¿ãƒ¼ã‚’æ¥ç¶šã—ã¦ã‹ã‚‰ã€CoreMP135 ã«é›»æºã‚¢ãƒ€ãƒ—ã‚¿ã‚’å·®ã—è¾¼ã‚“ã§çµ¦é›»ã—ã¦ãã ã•ã„ã€‚ç´„ 30 ç§’çµŒéã™ã‚‹ã¨ã€CoreMP135 ä¸Šã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãŒç‚¹ç¯ã—ã€ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã‹ã‚‰ãƒ–ã‚¶ãƒ¼éŸ³ãŒé³´ã‚Šã¾ã™ã€‚

![M5Stack CoreMP135 (1)](/images/articles/elixir-on-m5stack-core-mp135/core-mp135-3.jpg =360x)

ãã—ã¦ã€ãƒ¢ãƒ‹ã‚¿ãƒ¼ã«ã¯ Debian ã¸ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

![M5Stack CoreMP135 (1)](/images/articles/elixir-on-m5stack-core-mp135/debian-login.jpg =360x)

ãƒ¦ãƒ¼ã‚¶ãƒ¼å `root`ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ `root` ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¾ã™ã€‚

# èµ·å‹•æ™‚ã®ãƒ“ãƒ¼ãƒ—éŸ³ã‚’æ­¢ã‚ã‚‹

CoreMP135 ã®èµ·å‹•æ™‚ã«ã¯ã€ã‹ãªã‚Šå¤§ããªãƒ“ãƒ¼ãƒ—éŸ³ãŒé³´ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’æ­¢ã‚ãŸã„æ–¹ã¯ã€ã‚³ãƒãƒ³ãƒ‰ `vim /usr/local/m5stack/init.sh` ã‚’å®Ÿè¡Œã—ã¦ã€ã‚¨ãƒ‡ã‚£ã‚¿ Vim ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã€`tinyplay` ã§å§‹ã¾ã‚‹è¡Œã®å…ˆé ­ã« `#` ã‚’åŠ ãˆã¦ãã ã•ã„ã€‚

# `debian` ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹

CoreMP135 ä¸Šã§ã‚³ãƒãƒ³ãƒ‰ `password debian` ã‚’å®Ÿè¡Œã— `debian` ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

# Debian OS ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã‚‹

CoreMP135 ã«ã¯ LAN ãƒãƒ¼ãƒˆãŒ 2 å€‹ã‚ã‚Šã¾ã™ã€‚å³å´ãŒ `eth0`ã€å·¦å´ãŒ `eth1` ã§ã™ã€‚å³å´ã® LAN ãƒãƒ¼ãƒˆã« Ethernet ã‚±ãƒ¼ãƒ–ãƒ«ï¼ˆLAN ã‚±ãƒ¼ãƒ–ãƒ«ï¼‰ã‚’æ¥ç¶šã—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨é€£çµã—ã¦ãã ã•ã„ã€‚

ãã—ã¦ã€ã‚³ãƒãƒ³ãƒ‰ `hostname -I` ã‚’å®Ÿè¡Œã—ã¦ã€Debian OS ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’èª¿ã¹ã¦ãã ã•ã„ã€‚

```
192.168.0.130 2408:26:22ee:0:7e85:21ad:f5ea:1171
```

ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚ŒãŸã¨ã™ã‚Œã°ã€`192.168.0.130` ãŒãã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™ã€‚

# Debian OS ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å›ºå®šã™ã‚‹

å‰ç¯€ã§èª¿ã¹ãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ DHCP ã«ã‚ˆã‚Šå‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸã‚‚ã®ã§ã‚ã‚Šã€Debian ã‚’èµ·å‹•ã™ã‚‹ãŸã³ã«å¤‰åŒ–ã—ã¾ã™ã€‚ä»Šå¾Œã®ä½œæ¥­ã‚’ã‚„ã‚Šã‚„ã™ãã™ã‚‹ãŸã‚ã«ã€IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å›ºå®šã™ã¹ãã§ã™ã€‚

è©³ã—ã„æ‰‹é †ã¯ [M5Stack CoreMP135 Debian ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å›ºå®šã™ã‚‹](https://zenn.dev/tkrd/articles/fix-ip-addresss-of-core-mp135-debian) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

# microSD ã‚«ãƒ¼ãƒ‰ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æ‹¡å¤§ã™ã‚‹

microSD ã‚«ãƒ¼ãƒ‰ã«ä½œã‚‰ã‚Œã‚‹ Debian OS ã®ãŸã‚ã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºã¯ç´„ 1GB ã§ã€ã»ã¨ã‚“ã©ç©ºããŒã‚ã‚Šã¾ã›ã‚“ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚’æœ€å¤§ã‚µã‚¤ã‚ºã¾ã§æ‹¡å¤§ã—ã¦ãã ã•ã„ã€‚

* `/usr/local/m5stack/resize_mmc.sh` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚
* CoreMP135 ã®é›»æºã‚’ã‚ªãƒ•ã«ã™ã‚‹ã€‚
* CoreMP135 ã®é›»æºã‚’ã‚ªãƒ³ã«ã™ã‚‹ã€‚

`reboot` ã‚³ãƒãƒ³ãƒ‰ã§ Debian ã‚’å†èµ·å‹•ã™ã‚‹ã®ã§ã¯ãªãã€CoreMP135 ã®é›»æºã‚’å…¥ã‚Œç›´ã—ã¦ãã ã•ã„ã€‚

# SSH ã§ CoreMP135 ä¸Šã® Debian ã«æ¥ç¶šã™ã‚‹

ã‚ãªãŸã® PC ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€CoreMP135 ä¸Šã® Debian ã«æ¥ç¶šã—ã¦ãã ã•ã„ã€‚

```bash
ssh debian@192.168.0.200
```

ãŸã ã—ã€`192.168.0.200` ã®éƒ¨åˆ†ã¯ CoreMP135 ã® Debian OS ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

ã“ã‚Œä»¥é™ã®æ“ä½œã¯ PC ã‹ã‚‰ SSH æ¥ç¶šã§è¡Œã†ã®ã§ã€CoreMP135 ã‹ã‚‰ HDMI ã‚±ãƒ¼ãƒ–ãƒ«ã¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’å–ã‚Šå¤–ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

# Elixir ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

## æº–å‚™ä½œæ¥­

CoreMP135 ã« SSH æ¥ç¶šã—ãŸã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

```bash
sudo locale-gen en_US.UTF-8
echo export LANG=en_US.UTF-8 >> ~/.bashrc
echo export LC_ALL=en_US.UTF-8 >> ~/.bashrc
```

ã“ã“ã§ã€`exit` ã‚³ãƒãƒ³ãƒ‰ã§ SSH æ¥ç¶šã‚’åˆ‡ã‚Šã€æ¥ç¶šã—ç›´ã—ã¦ãã ã•ã„ã€‚

```bash
sudo apt update
sudo apt -y install build-essential autoconf m4 libncurses-dev \
libwxgtk3.2-dev libwxgtk-webview3.2-dev libgl1-mesa-dev libglu1-mesa-dev \
libpng-dev libssh-dev unixodbc-dev xsltproc fop libxml2-utils openjdk-17-jdk
```

## asdf ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ« [asdf](https://asdf-vm.com/) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
git clone https://github.com/asdf-vm/asdf.git ~/.asdf
echo . $HOME/.asdf/asdf.sh >> ~/.bashrc
source ~/.bashrc
```

## Erlang ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

asdf ã‚’åˆ©ç”¨ã—ã¦ Erlang 27.0.1 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
asdf plugin add erlang https://github.com/asdf-vm/asdf-erlang.git
asdf install erlang 27.0.1
asdf global erlang 27.0.1
```

ã‹ãªã‚Šã®æ™‚é–“ï¼ˆ1 ã€œ 2æ™‚é–“ï¼‰ã‚’è¦ã—ã¾ã™ã€‚

## Elixir ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

asdf ã‚’åˆ©ç”¨ã—ã¦ Elixir 1.17.2 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
asdf plugin add elixir
asdf install elixir 1.17.2-otp-27
asdf global elixir 1.17.2-otp-27
```

ã“ã¡ã‚‰ã¯ä¸€ç¬ã§å®Œäº†ã—ã¾ã™ã€‚

# å‹•ä½œç¢ºèª

## Elixir ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª

`elixir --version` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€Elixir ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚æ¬¡ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã‚Œã° OK ã§ã™ã€‚

```
Erlang/OTP 27 [erts-15.0.1] [source] [32-bit] [smp:1:1] [ds:1:1:10] [async-threads:1]

Elixir 1.17.2 (compiled with Erlang/OTP 27)
```

## IEx ã®èµ·å‹•ã¨çµ‚äº†

`iex` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€Elixir ã®å¯¾è©±å‹ã‚·ã‚§ãƒ« IEx ã‚’èµ·å‹•ã—ã¾ã™ã€‚

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ `iex(1)>` ã«å¯¾ã—ã€`1 + 1` ã‚’å…¥åŠ›ã— `2` ã¨å‡ºåŠ›ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

`Ctrl+C` ã‚’ 2 åº¦å…¥åŠ›ã—ã¦ IEx ã‚’çµ‚äº†ã—ã¦ãã ã•ã„ã€‚

## CoreMP135 ã®ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³

`sudo shutdown -h now` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã— Debian OS ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦ã‹ã‚‰ã€CoreMP135 ã®é›»æºã‚’ã‚ªãƒ•ã«ã—ã¦ãã ã•ã„ã€‚

# CoreMP135 ã«é–¢ã™ã‚‹ä»–ã®ç§ã®è¨˜äº‹

* [Elixir ã§ M5Stack CoreMP135 ã® LCD ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒˆã®æ˜ã‚‹ã•ã‚’èª¿æ•´ã™ã‚‹](https://zenn.dev/tkrd/articles/elixir-on-core-mp135-backlight)
* [M5Stack M5Stack CoreMP135: èµ·å‹•æ™‚ã®ãƒ­ã‚´ç”»åƒã‚’å·®ã—æ›¿ãˆã‚‹](https://zenn.dev/tkrd/articles/change-core-mp135-logo)
* [M5Stack M5Stack CoreMP135: IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å›ºå®šã™ã‚‹](https://zenn.dev/tkrd/articles/fix-ip-addresss-of-core-mp135-debian)
* [Elixir ã§ M5Stack CoreMP135 ã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«è‰²ã‚’å¡—ã‚‹](https://zenn.dev/tkrd/articles/elixir-on-core-mp135-framebuffer-1)
* [Elixir ã§ M5Stack CoreMP135 ã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«å›³å½¢ã‚’æã](https://zenn.dev/tkrd/articles/elixir-on-core-mp135-framebuffer-2)
* [Elixir ã§ M5Stack CoreMP135 ã®æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤ºã™ã‚‹](https://zenn.dev/tkrd/articles/elixir-on-m5stack-framebuffer-3)
* [Elixir ã§ M5Stack CoreMP135 ã®ã‚¿ãƒƒãƒãƒ‘ãƒãƒ«ã‹ã‚‰å…¥åŠ›ã‚’å¾—ã‚‹â‘ ](https://zenn.dev/tkrd/articles/elixir-on-core-m5stack-touch-panel-1)

# å‚è€ƒæ–‡çŒ®

* [ã€M5Stack MP135ã€‘Livebookã§Lãƒã‚«ï¼ˆLEDç‚¹æ»…ï¼‰ã—ã¦ã¿ãŸ](https://qiita.com/GeekMasahiro/items/1987ed321baa43724039) @GeekMasahiro
* [VMä¸Šã®Ubuntuã§ä»®æƒ³ãƒ‡ã‚£ã‚¹ã‚¯ã®ã‚µã‚¤ã‚ºã‚’å¢—ã‚„ã™](https://qiita.com/38pinn/items/e4b1e5a96d1ad3e4ed8a) @38pinn
* [CoreMP135ã®èµ·å‹•æ™‚ã®beepéŸ³ã‚’æ­¢ã‚ã‚‹](https://qiita.com/nnn112358/items/63944e500d0cd3d4b630) @nnn112358
* [ã€è©¦è¡ŒéŒ¯èª¤ã€‘M5Stack MP135ã§Elixirã‚’å‹•ã‹ã—ãŸæ™‚ã®ãƒ¡ãƒ¢](https://qiita.com/GeekMasahiro/items/3ff5276a552c4430439c) @GeekMasahiro
